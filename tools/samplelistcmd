##############################################################################
# Special Commands for BrcdDataCollector.py
# 1) !DO LOOP <n>
# 2) !DO ENDLOOP 
# 3) !DO SLEEP <N> SECONDS 
# 4) !DO SET DEBUG DEST
# 
##############################################################################

#
# list of vrrp debug commands
#
show clock
show tech
show tech cluster
skip
show int brief
show ip int
show fdp neighbor
show lag
!DO LOOP 5 
    show cpu 
    show cpu lp
    !DO SLEEP 10 sec
!DO ENDLOOP
show ip vrrp-e brief
show ip vrrp-e
show ip ospf
show ip ospf int brief
show ip ospf neighbor extensive
show ip route nexthop
show ip bgp summary
show ip bgp neighbor
show ip bgp route summary
show tm stat all
show lp packet statistics protocol l3 7
show lp packet statistics protocol l3 8
show cpu lp
show clock
show log
show who
!DO LOOP 2
    show cpu histogram hold above 50 
    show tm logging 
    show sfm logging 
    show tm non
!DO ENDLOOP

# Debug commands
show debug
!DO SET DEBUG DEST
debug ip vrrp ve 2
debug ip vrrp packet
debug ip vrrp
!DO SLEEP 10 SECONDS
no debug all

#LP Commands on VRRP master (repeat each debug command below 5-6 times on slots 7 and 8)
rcon 1
enable
skip
!DO LOOP 2
    show tm stats 0 
    show tm stats 1
    show packet pbif 
    show cpu histogram hold above 50
!DO ENDLOOP
debug ip vrrp vrid 1
debug ip vrrp
!DO SLEEP 10 SECONDS
no debug all
!
debug packet capture tx include src-protocol-port 8888 dst-protocol-port 8888
!DO SLEEP 10 SECONDS
exit 
exit

#LP Commands on VRRP master (repeat each debug command below 5-6 times on slots 7 and 8)
rcon 2
enable
skip
!DO LOOP 2
    show tm stats 0 
    show tm stats 1
    show packet pbif 
    show cpu histogram hold above 50
!DO ENDLOOP
debug ip vrrp vrid 1
debug ip vrrp
!DO SLEEP 10 SECONDS
no debug all
!
debug packet capture tx include src-protocol-port 8888 dst-protocol-port 8888
!DO SLEEP 10 SECONDS
exit 
exit


#From MP-OS on both MLXes:
#rconsole
#enable
#dm monitor
#skip
#show cpu
#show cpu
#show cpu
#exit 
#exit
